<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
  <title>Word Guess Game!</title>
</head>

<body>
    <p>Press any key to get started!</p>
    <p>Wins: </p>
    <p>Losses: </p>

    <p></p>

    <p>Number of guesses remaining: </p>
    <p>Letters already guessed: <span id="letters-already-guessed"></span></p>
</body>

<script type="text/javascript">
    // Establish word bank
    var wordBank = ["hydrogen", "helium", "lithium", "beryllium", "boron", "carbon", "nitrogen", "oxygen", "fluorine", "neon"];
    
    // Randomly generate word from word bank
    var i = Math.floor((Math.random() * 10));
    var word = wordBank[i];
   
    // Generate blanked out version of word
    var wordLength = word.length;
    var blankedWord = [""];
    for (var j=1; j<=wordLength; j++) {
        blankedWord = blankedWord + "_ ";
    }

    var wins = 0;
    var losses = 0;
    var guessesRemaining = 9;
    var lettersAlreadyGuessed = [];

    console.log(word);
    console.log(blankedWord);
    console.log("wins: " + wins);
    console.log("losses: " + losses);
    console.log("Guesses remaining: " + guessesRemaining);
    console.log("Letters already guessed: " + lettersAlreadyGuessed);
    console.log("");

    // Collect letter from user
    document.onkeyup = function(event) {
        var guessedLetter = event.key;
        
        // If guessed letter hasn't already been entered by user
        if (lettersAlreadyGuessed.indexOf(guessedLetter) === -1 ) {
            
            // If guessed letter is not found in word
            if (word.indexOf(guessedLetter) === -1) {

                // Put guessedLetter in lettersAlreadyGuessed and decrement number of guesses remaining by one
                lettersAlreadyGuessed.push(guessedLetter);
                guessesRemaining = guessesRemaining - 1;

                // If out of guesses, reset game
                if (guessesRemaining === 0) {
                    // Increment losses by one
                    losses = losses + 1;
                    // Randomly generate new word from word bank
                    i = Math.floor((Math.random() * 10));
                    word = wordBank[i];
                    // Generate blanked out version of word
                    wordLength = word.length;
                    blankedWord = [""];
                    for (var j=1; j<=wordLength; j++) {
                        blankedWord = blankedWord + "_ ";
                    }
                    // Reset number of guesses
                    guessesRemaining = 9;
                    // Empty list of guessed letters
                    lettersAlreadyGuessed = [];
                } 

            }        

            // Guessed letter is found in word
            else {

                // Comb through word letter by letter to determine positions at which the guessed letter occurs
                for (var k=0; k<wordLength;k++) {

                    // If the k-th index (i.e., the (k+1)th letter) of the word matches the guessed letter
                    if (word.charAt(k) === guessedLetter) {
                        
                        // If this is the first instance of the guessed letter occurring within the word
                        if ( lettersAlreadyGuessed.indexOf(guessedLetter) === -1 ) {
                            
                            // Put guessedLetter in letters already guessed list
                            lettersAlreadyGuessed.push(guessedLetter);
                        }

                        // Fill in applicable blank spaces

                        blankedWord = blankedWord.substr(0, 2*k) + guessedLetter + " " + blankedWord.substr(2*(k+1));

                        // If all the blanks have been filled, reset game
                        if (blankedWord.indexOf("_") ===  - 1 ) {

                            // Increment wins by one
                            wins = wins + 1;
                            // Randomly generate new word from word bank
                            i = Math.floor((Math.random() * 10));
                            word = wordBank[i];
                            // Generate blanked out version of word
                            wordLength = word.length;
                            blankedWord = [""];
                            for (var j=1; j<=wordLength; j++) {
                                blankedWord = blankedWord + "_ ";
                            }
                            // Reset number of guesses
                            guessesRemaining = 9;
                            // Empty list of guessed letters
                            lettersAlreadyGuessed = [];
                        }
                    }
                }


            }

            console.log(word);
            console.log(blankedWord);
            console.log("wins: " + wins);
            console.log("losses: " + losses);
            console.log("Guesses remaining: " + guessesRemaining);
            console.log("Letters already guessed: " + lettersAlreadyGuessed);
            console.log("");

        }


    };


    

    
    



    

    
    
    /* Shit for your reference
    

    var userName = prompt("Whatever you enter will be stored in the variable userName:");
    var confirmLove = confirm("Do you like me?");
    
    document.write("This text will overwrite the existing html.");

    var userText = document.getElementById("user-text"); 

    document.onkeyup = function(event) {
        userText.textContent = event.key;
    };
    */

</script> 

</html>